---
import { sanityClient } from "sanity:client"

import PageHeaderSanity from "@/components/PageHeaderSanity.astro"
import ContactPageComponent from "@/layouts/function-components/contactTemplate"

const { lang } = Astro.props

const contactPageData = await sanityClient.fetch(
  `*[_type == 'contactPage' && language == '${lang}'] {
      title,
      heroSection,
      nameObject,
      emailObject,
      inquiryObject,
      inquiryOptions,
      messageObject
  }`
)

const { title, heroSection, nameObject, emailObject, inquiryObject, inquiryOptions, messageObject } = contactPageData[0] || {}
---

<>
  <section class="page-hero pb-6 pt-16">
    <div class="container">
      <PageHeaderSanity pageData={{ title, heroSection }} />
    </div>
  </section>

  <ContactPageComponent fieldData={{ nameObject, emailObject, inquiryObject, inquiryOptions, messageObject }} client:load />
</>
