---
import { sanityFetch } from "@/lib/utils/sanityFetch"

import Shape from "@/components/Shape.astro"
import FeatureBannerSanity from "@/components/features/FeatureBannerSanity.astro"
import ProjecManagement from "@/components/features/ProjecManagement.astro"
import CtaSanity from "@/partials/CtaSanity.astro"

const { lang } = Astro.props

const wikiPageData = await sanityFetch(
  "wikiPage",
  lang,
  `{
      title,
      heroSection,
      postsTitle,
      ctaBanner
  }`
)

const { title, heroSection, ctaBanner, postsTitle } = wikiPageData[0] || {}
---

<>
  <Shape />
  <FeatureBannerSanity title={title} heroSection={heroSection} />
  <ProjecManagement postsTitle={postsTitle} lang={lang} />
  <CtaSanity ctaBanner={ctaBanner} />
</>
