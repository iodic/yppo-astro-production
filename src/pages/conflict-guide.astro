---
import Base from "@/layouts/Base.astro";
import SigninSlider from "@/layouts/function-components/SigninSlider.jsx";
import SanityConflictInitial from "@/layouts/function-components/SanityConflictInitial.jsx";
---

<Base>
  <section>
    <div class="container max-w-full">
      <div class="row">
        <div class="min-h-[580px] bg-white py-8 lg:col-6 lg:py-[64px]">
          <div class="mx-auto w-full max-w-[480px]">
            <!-- Intro -->
            <div class="form-wrapper hidden form-0" data-forward="form-1">
              <img
                class="mb-8 w-20 block lg:hidden"
                src="/images/umino.png"
                alt=""
              />
              <h1 class="mb-4 font-normal">
                Welcome to the
                <span class="font-bold">Conflict Guide</span>
              </h1>

              <p>
                Just answer a couple of questions and we'll point you towards
                the info we believe will help you address your issue in the most
                professional way.
              </p>

              <a
                class="go go-forward btn btn-primary mt-10 block w-full start-form"
                data-target="form-1"
                href="#">Answer questions</a
              >
            </div>

            <SanityConflictInitial client:load />
          </div>
        </div>

        <script is:inline>
          $(".form-0").slideDown(300);

          $(".go").on("click", function (e) {
            target = "." + $(this).parents(".form-wrapper").data("back");

            if ($(this).hasClass("go-forward")) {
              target = "." + $(this).parents(".form-wrapper").data("forward");
            }

            $("video").each(function () {
              this.pause();
            });

            $(this)
              .parents(".form-wrapper")
              .slideUp("300", function () {
                $("html, body").animate({ scrollTop: 0 }, "400");
                $(target).slideDown();
              });

            e.preventDefault();
          });
        </script>

        <SigninSlider
          client:load
          title="Answer a few questions and<br>we'll point you in the right direction."
        />
      </div>
    </div>
  </section>
</Base>
